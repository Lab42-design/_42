<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        article {
            padding: 20px;
            margin: 3px;
            background-color: lightblue;
        }

        .partial {
            border: 3px red dotted;
            display: inline-block;
            list-style: decimal;
        }

        .anim-rotate {
            animation: rotate-keyframes 1s linear infinite
        }

        @keyframes rotate-keyframes {
            to {
                transform: rotate(1turn)
            }
        }

    </style>

    <!-- <link rel="stylesheet" href="./../../css/___reset.css"> -->

</head>
<body>

    <h1>partial fetching</h1>
    <p>foo bar and baz are partials</p>

<main>



<!-- partials -->

<div class="partial">
    <svg width="32" height="32" viewBox="0 0 16 16" fill="none" class="anim-rotate">
        <g id="Circle">
        <circle cx="8" cy="8" r="7" stroke="currentColor" 
            stroke-opacity="0.25" stroke-width="2" 
            vector-effect="non-scaling-stroke" />
        <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" 
            stroke-width="2" stroke-linecap="round" 
            vector-effect="non-scaling-stroke" />
        </g>
    </svg>
    <link rel="html" href="./baz.html" />
</div>

<div class="partial">
    <svg width="32" height="32" viewBox="0 0 16 16" fill="none" class="anim-rotate">
        <use href="#Circle" />
    </svg>
    <link rel="html" href="./foo.html">
</div>

<div class="partial">
    <svg width="32" height="32" viewBox="0 0 16 16" fill="none" class="anim-rotate">
        <use href="#Circle" />
    </svg>
    <link rel="html" href="./bar.html" />
</div>

<div class="partial">
    <svg width="32" height="32" viewBox="0 0 16 16" fill="none" class="anim-rotate">
        <use href="#Circle" />
    </svg>
    <link rel="html" href="./empty.html" />
</div>

<!-- partials -->



</main>


<script src="./../readyPromise/readyPromise.src.js"></script>
<script src="./../fetchHtml/fetchHtml.src.js"></script>
<script>
//
domready.then(document_ready);

//
winready.then(window_ready);

//
Promise.all([domready, winready]).then(start_application);


function start_application() {
    console.log('documentResolve AND windowResolve OK');

    fetchHtml.all('link');

    // fetchHtml.partial('link');

};

function window_ready() {
    console.log('windowResolve OK');

};

function document_ready() {
    console.log('documentResolve OK');

};





</script>



</body>
</html>